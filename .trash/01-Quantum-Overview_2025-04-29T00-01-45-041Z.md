---
trash_metadata:
  original_path: Core-Concepts/01-Quantum-Overview.md
  deleted_at: 2025-04-29T00:01:45.041Z
---

# Photon Quantum Overview

## Introduction

Photon Quantum is a deterministic networking framework for Unity that enables true synchronized multiplayer games. Unlike traditional networking solutions that use state synchronization, Quantum uses a deterministic approach where all clients run the exact same simulation based on shared inputs.

## Key Concepts

### Deterministic Simulation

In Quantum, the game state advances identically on all clients when given the same inputs. This means:

- Physics, random number generation, and all game logic must be deterministic
- Floating-point calculations use `FP` (Fixed Point) types instead of standard floating-point numbers
- Game state is advanced frame-by-frame with synchronized timing
- Only player inputs need to be sent over the network, not the full game state

### Component-Entity System

Quantum uses a component-based architecture:

- **Entities**: Game objects in the simulation
- **Components**: Data containers attached to entities (defined via QTN files)
- **Systems**: Logic that operates on entities with specific components
- **Filters**: Specify which components a system requires

### Quantum Type Notation (QTN)

QTN is a domain-specific language used to define:

- Components: Data containers attached to entities
- Events: Messages used to communicate between systems or with the Unity side
- Signals: Internal callbacks for game logic

Example from Platform Shooter 2D:
```
component PlayerLink
{
    player_ref Player;
}

component Status
{
    asset_ref<StatusData> StatusData;
    FP CurrentHealth;
    Boolean IsDead;
    FrameTimer RespawnTimer;
    FrameTimer RegenTimer;
    FrameTimer InvincibleTimer;
    FrameTimer DisconnectedTimer;
}
```

### Frame

The `Frame` is the central object that:
- Contains all game state
- Provides access to physics, entities, and components
- Manages the deterministic simulation
- Tracks time and Delta Time

### Systems and Filters

Systems in Quantum process entities with specific component combinations:

```csharp
public unsafe class WeaponSystem : SystemMainThreadFilter<WeaponSystem.Filter>, ISignalOnCharacterRespawn
{
    public struct Filter
    {
        public EntityRef Entity;
        public PlayerLink* PlayerLink;
        public Status* Status;
        public WeaponInventory* WeaponInventory;
    }
    
    public override void Update(Frame frame, ref Filter filter)
    {
        // Process entities with PlayerLink, Status and WeaponInventory components
    }
}
```

### Events and Signals

- **Events**: Used to communicate from Simulation to Unity (View)
- **Signals**: Used for internal simulation communication

Example from Platform Shooter 2D:
```
event OnWeaponShoot
{
    entity_ref Character;
}

// Signal interfaces
public interface ISignalOnCharacterRespawn
{
    void OnCharacterRespawn(Frame frame, EntityRef character);
}
```

## Unity Integration

Quantum provides integration with Unity via:

- **QuantumRunner**: Manages connection to Quantum simulation
- **EntityView**: Links Quantum entities to Unity GameObjects
- **QuantumCallbacks**: Allows Unity code to receive Quantum events

## Asset Reference System

Quantum uses asset references to safely refer to data:

- **AssetObject**: Base class for Quantum assets
- **AssetRef**: Type-safe reference to assets
- **asset_ref<T>**: QTN type for asset references

## Next Steps

For more detailed information on working with these concepts, see the following documentation:
- [[Components-Overview|Components Architecture]]
- [[Systems-Overview|Systems Implementation]]
- [[Networking-Overview|Networking Model]]